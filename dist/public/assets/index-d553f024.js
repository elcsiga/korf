var K=Object.defineProperty;var W=(t,e,n)=>e in t?K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var w=(t,e,n)=>(W(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function a(){}function J(t){return t()}function R(){return Object.create(null)}function $(t){t.forEach(J)}function T(t){return typeof t=="function"}function U(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function z(t){return Object.keys(t).length===0}function F(t,...e){if(t==null){for(const o of e)o(void 0);return a}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function M(t,e,n){t.$$.on_destroy.push(F(e,n))}function x(t,e){t.appendChild(e)}function G(t,e,n){t.insertBefore(e,n||null)}function q(t){t.parentNode&&t.parentNode.removeChild(t)}function V(t){return document.createElement(t)}function B(t){return document.createTextNode(t)}function H(){return B(" ")}function X(t){return Array.from(t.childNodes)}function Q(t,e){e=""+e,t.data!==e&&(t.data=e)}let C;function _(t){C=t}const g=[],P=[];let y=[];const j=[],Y=Promise.resolve();let E=!1;function Z(){E||(E=!0,Y.then(D))}function O(t){y.push(t)}const S=new Set;let p=0;function D(){if(p!==0)return;const t=C;do{try{for(;p<g.length;){const e=g[p];p++,_(e),tt(e.$$)}}catch(e){throw g.length=0,p=0,e}for(_(null),g.length=0,p=0;P.length;)P.pop()();for(let e=0;e<y.length;e+=1){const n=y[e];S.has(n)||(S.add(n),n())}y.length=0}while(g.length);for(;j.length;)j.pop()();E=!1,S.clear(),_(t)}function tt(t){if(t.fragment!==null){t.update(),$(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}function et(t){const e=[],n=[];y.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),y=e}const nt=new Set;function ot(t,e){t&&t.i&&(nt.delete(t),t.i(e))}function rt(t,e,n){const{fragment:o,after_update:r}=t.$$;o&&o.m(e,n),O(()=>{const i=t.$$.on_mount.map(J).filter(T);t.$$.on_destroy?t.$$.on_destroy.push(...i):$(i),t.$$.on_mount=[]}),r.forEach(O)}function st(t,e){const n=t.$$;n.fragment!==null&&(et(n.after_update),$(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function it(t,e){t.$$.dirty[0]===-1&&(g.push(t),Z(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ct(t,e,n,o,r,i,u,f=[-1]){const d=C;_(t);const s=t.$$={fragment:null,ctx:[],props:i,update:a,not_equal:r,bound:R(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:R(),dirty:f,skip_bound:!1,root:e.target||d.$$.root};u&&u(s.root);let k=!1;if(s.ctx=n?n(t,e.props||{},(l,N,...I)=>{const L=I.length?I[0]:N;return s.ctx&&r(s.ctx[l],s.ctx[l]=L)&&(!s.skip_bound&&s.bound[l]&&s.bound[l](L),k&&it(t,l)),N}):[],s.update(),k=!0,$(s.before_update),s.fragment=o?o(s.ctx):!1,e.target){if(e.hydrate){const l=X(e.target);s.fragment&&s.fragment.l(l),l.forEach(q)}else s.fragment&&s.fragment.c();e.intro&&ot(t.$$.fragment),rt(t,e.target,e.anchor),D()}_(d)}class ut{constructor(){w(this,"$$");w(this,"$$set")}$destroy(){st(this,1),this.$destroy=a}$on(e,n){if(!T(n))return a;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(e){this.$$set&&!z(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ft="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ft);const h=[];function at(t,e){return{subscribe:dt(t,e).subscribe}}function dt(t,e=a){let n;const o=new Set;function r(f){if(U(t,f)&&(t=f,n)){const d=!h.length;for(const s of o)s[1](),h.push(s,t);if(d){for(let s=0;s<h.length;s+=2)h[s][0](h[s+1]);h.length=0}}}function i(f){r(f(t))}function u(f,d=a){const s=[f,d];return o.add(s),o.size===1&&(n=e(r,i)||a),f(t),()=>{o.delete(s),o.size===0&&n&&(n(),n=null)}}return{set:r,update:i,subscribe:u}}class lt{constructor(e){this.type=e}}class pt extends lt{constructor(e){super("CreateWorkstation"),this.id=e}}var b,ht=new Uint8Array(16);function gt(){if(!b&&(b=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!b))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return b(ht)}const mt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function yt(t){return typeof t=="string"&&mt.test(t)}var c=[];for(var v=0;v<256;++v)c.push((v+256).toString(16).substr(1));function _t(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!yt(n))throw TypeError("Stringified UUID is invalid");return n}function bt(t,e,n){t=t||{};var o=t.random||(t.rng||gt)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=o[r];return e}return _t(o)}const A="korf-workstation-id";let m;function $t(t){m&&(console.log("SEND: ",t),m.send(JSON.stringify(t)))}const wt=at(null,t=>{const e=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"ws://localhost:3000/ws":`wss://${window.location.host}/ws`;return m=new WebSocket(e),m.addEventListener("message",n=>{const o=JSON.parse(n.data);console.log("State: ",o),t(o)}),m.addEventListener("open",()=>{let n=window.sessionStorage.getItem(A);n||(n=bt(),window.sessionStorage.setItem(A,n)),$t(new pt(n))}),function(){console.log("DISCONNECT"),m.close()}});function xt(t){let e,n,o,r=JSON.stringify(t[0])+"",i;return{c(){e=V("main"),n=V("h1"),n.textContent="KORF 3",o=H(),i=B(r)},m(u,f){G(u,e,f),x(e,n),x(e,o),x(e,i)},p(u,[f]){f&1&&r!==(r=JSON.stringify(u[0])+"")&&Q(i,r)},i:a,o:a,d(u){u&&q(e)}}}function St(t,e,n){let o;return M(t,wt,r=>n(0,o=r)),[o]}class vt extends ut{constructor(e){super(),ct(this,e,St,xt,U,{})}}new vt({target:document.getElementById("app")});
